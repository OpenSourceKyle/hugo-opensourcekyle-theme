{{ $float := .Get "float" | default false }}
{{ $text := .Get "text" }}
{{ if not $text }}
  {{ errorf "The scroll-to-calendly shortcode requires a 'text' parameter" }}
{{ end }}
<button id="scrollToCalendly" class="{{ if $float }}floating{{ end }}" aria-label="Scroll to Calendar">
  {{ $text }}
</button>

<style>
#scrollToCalendly {
  padding: 10px 20px;
  background-color: {{ .Site.Params.colors.link }};
  color: {{ .Site.Params.colors.background }};
  border: none;
  border-radius: 25px;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  font-weight: bold;
  transition: transform 0.2s;
}

#scrollToCalendly.floating {
  position: fixed;
  bottom: 80px;
  right: 20px;
  z-index: 1000;
}

#scrollToCalendly:hover {
  transform: translateY(-2px);
  background-color: {{ .Site.Params.colors.linkHover }};
}
</style>

<script>
document.getElementById('scrollToCalendly').addEventListener('click', function() {
  const calendly = document.querySelector('.calendly-container');
  if (calendly) {
    calendly.scrollIntoView({ behavior: 'smooth' });
  }
});
</script> 